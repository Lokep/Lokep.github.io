<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
  <title>唤醒微信</title>
  <script>
  (function(doc, win) {
    var docEl = doc.documentElement,
      resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',
      recalc = function() {
        var clientWidth = docEl.clientWidth;
        if (!clientWidth) return;
        if (clientWidth >= 640) {
          docEl.style.fontSize = '100px';
        } else {
          docEl.style.fontSize = 100 * (clientWidth / 750) + 'px';
        }
      };

    if (!doc.addEventListener) return;
    win.addEventListener(resizeEvt, recalc, false);
    doc.addEventListener('DOMContentLoaded', recalc, false);
    console.log(docEl)
  })(document, window);

  </script>
  <style>
  * {
    margin: 0;
    padding: 0;
  }

  html,
  body,
  .container {
    width: 100%;
    height: 100%;
    background-color: #f4f4f4;
  }

  a,
  input,#foo1,.btn{
    display: block;
    width: 2rem;
    height: .5rem;
    background-color: #000;
    color: #fff;
    font-size: .4rem;
    margin: .2rem auto;
    text-decoration: none;
    text-align: center;
    border-radius: .4rem;
  }

  </style>
  <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
  <script src='./clipboard.min.js'></script>
</head>

<body>
  <div class="container">
    <input id="foo1" value="http://www.shellad.com/_2SP__22（要复制的内容）" readonly="readonly">
    <div class="the_btn_con">
      <button class="btn" data-clipboard-target="#foo1">复制</button>
    </div>
    <a href="weixin://">唤醒</a>
    <p>
      <a href="weixin://dl/moments">测试</a>
    </p>
    <p>
      <a href="weixin://dl/businessWebview/link/?appid=wx707c5fa91ef0a58c&url=http://http://weixin.yeebee.com.cn/Home/BeeLogin
    ">测试</a>
    </p>
  </div>
</body>

<script>
window.onload = function() {
  // var btn = document.getElementById('btn');
  // var i = document.getElementById('txt');

  // btn.onclick = function() {
  //   i.value = btn.value;
  //   i.select();
  //   var b = document.execCommand("copy");
  //   if (b) {
  //     window.location.href = 'weixin://';
  //   } else {
  //     alert(b);
  //   }
  // }

  var clipboard = new ClipboardJS('.btn');
  //优雅降级:safari 版本号>=10,提示复制成功;否则提示需在文字选中后，手动选择“拷贝”进行复制
  clipboard.on('success', function(e) {
    alert('复制成功!')
    e.clearSelection();
    window.location.href = 'weixin://';
  });
  clipboard.on('error', function(e) {
    alert('请选择“拷贝”进行复制!')
  });
}

</script>

</html>
